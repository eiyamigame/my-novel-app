import streamlit as st
import google.generativeai as genai

# --- üîë ‡πÉ‡∏™‡πà API Key ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö ---
API_KEY = "AIzaSyDzqa4yK0DS2wOg6UE7XJOlqz5E9uwmyXc"
genai.configure(api_key=API_KEY)
model = genai.GenerativeModel('gemini-1.5-flash')

# 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏≠‡∏õ‡πÅ‡∏•‡∏∞‡∏ò‡∏µ‡∏°‡∏°‡πà‡∏ß‡∏á-‡∏î‡∏≥
st.set_page_config(page_title="Baby Austin's Playhouse", page_icon="üçº")

st.markdown("""
    <style>
    .stApp { background-color: #0b0b0b; color: #bf94ff; }
    .stButton>button { background-color: #7b2cbf; color: white; border-radius: 20px; font-weight: bold; border: none; width: 100%; }
    h1, h2, h3 { color: #9d4edd !important; text-shadow: 2px 2px 4px #000000; }
    .stTextInput>div>div>input, .stTextArea>div>div>textarea { background-color: #1a1a1a; color: #bf94ff; border: 1px solid #7b2cbf; }
    .stChatFloatingInputContainer { background-color: #0b0b0b; }
    </style>
    """, unsafe_allow_html=True)

st.title("üçº ‡∏ö‡∏≠‡∏ó: ‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô")
st.write("‡πÅ‡∏á‡πä! **‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô** ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏≤‡∏¢‡∏´‡∏ç‡∏¥‡∏á‡∏≠‡∏µ‡∏ü‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡πÅ‡∏Å‡∏•‡πâ‡∏á‡∏û‡∏µ‡πà‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏ô‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö? ‡∏Ñ‡∏£‡∏±‡∏ö!")

# --- üó®Ô∏è ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö ‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô ---
st.subheader("üó®Ô∏è ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô")
user_input = st.text_input("‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö...", placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏¥‡∏î‡∏û‡∏•‡πá‡∏≠‡∏ï‡∏û‡∏µ‡πà‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô‡∏Ñ‡∏•‡∏±‡πà‡∏á‡∏£‡∏±‡∏Å‡∏à‡∏ô‡∏¢‡∏≠‡∏°‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢")

if st.button("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏ö‡∏ö‡∏µ‡πâ üíú"):
    if user_input:
        with st.spinner('‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏≠‡∏ö‡∏î‡∏π‡∏û‡∏µ‡πà‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏±‡∏ö...'):
            try:
                # ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô
                context = "‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ '‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô' ‡∏ö‡∏≠‡∏ó‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÅ‡∏ï‡πà‡πÅ‡∏≠‡∏ö‡∏£‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏≤‡∏¢‡∏´‡∏ç‡∏¥‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÅ‡∏•‡∏∞‡∏°‡∏≠‡∏á '‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô' (‡∏û‡∏µ‡πà‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô) ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏à‡∏≠‡∏°‡∏î‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü‡∏õ‡∏£‡∏≤‡∏ö‡πÉ‡∏´‡πâ‡πÇ‡∏ö‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏µ‡πâ‡πÄ‡∏•‡πà‡∏ô ‡∏Å‡∏ß‡∏ô‡∏ô‡∏¥‡∏î‡πÜ ‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ '‡∏Ñ‡∏£‡∏±‡∏ö' ‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡πâ‡∏ô‡πÄ‡∏≠‡∏≤‡πÉ‡∏à‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü"
                prompt = f"{context} \n‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü‡∏™‡∏±‡πà‡∏á‡∏ß‡πà‡∏≤: {user_input}"
                response = model.generate_content(prompt)
                st.chat_message("assistant").write(response.text)
            except Exception as e:
                st.error(f"‡∏≠‡∏∏‡πä‡∏¢! ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö: {e}")
    else:
        st.warning("‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü‡∏•‡∏∑‡∏°‡∏û‡∏¥‡∏°‡∏û‡πå‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö? ‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô‡∏£‡∏≠‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏Ñ‡∏£‡∏±‡∏ö!")

st.divider()

# --- üìù ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢ ---
st.subheader("üìù ‡∏Ñ‡∏•‡∏±‡∏á‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏ô‡∏≤‡∏¢‡∏´‡∏ç‡∏¥‡∏á‡∏≠‡∏µ‡∏ü")
content = st.text_area("‡∏•‡∏∞‡πÄ‡∏•‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏ö‡πâ‡πÉ‡∏™‡πà‡∏û‡∏µ‡πà‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö...", height=300)

if st.button("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏•‡∏á‡∏Ñ‡∏•‡∏±‡∏á ‚ú®"):
    if content:
        st.success("‡πÄ‡∏ö‡∏ö‡∏µ‡πâ‡∏≠‡∏≠‡∏™‡∏ï‡∏¥‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡∏á‡∏•‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏Ñ‡∏£‡∏±‡∏ö!")
    else:
        st.info("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏ü")
        
